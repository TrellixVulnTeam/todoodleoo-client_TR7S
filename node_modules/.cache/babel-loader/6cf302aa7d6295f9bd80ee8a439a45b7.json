{"ast":null,"code":"import _classCallCheck from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import pencil from\"./../img/pencil.svg\";import deleteIcon from'./../img/delete_icon.png';import'./task.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Button=function Button(props){return/*#__PURE__*/_jsx(\"button\",{className:props.styling,onClick:props.action,children:props.body});};var Task=/*#__PURE__*/function(_React$Component){_inherits(Task,_React$Component);var _super=_createSuper(Task);function Task(props){var _this;_classCallCheck(this,Task);_this=_super.call(this,props);_this.edit=function(){_this.setState({editing:true});};_this.save=function(event){_this.setState({editing:false});axios.post('/edit_task',{id:_this.state.id,title:_this.state.title,status:_this.state.status,theme:_this.state.theme,timeboxes:_this.state.timeboxes,priority:_this.state.priority});};_this.editTaskName=function(event){event.preventDefault();_this.setState({editing:false});axios.post('/edit_task',{id:_this.state.id,title:_this.state.title,status:_this.state.status,theme:_this.state.theme,priority:_this.state.priority});};_this.getThemeColor=function(themeName){var theme=_this.props.themes.find(function(o){return o.title===themeName;});return theme.color;};_this.cta=function(){if(_this.state.status==='To Do'){return/*#__PURE__*/_jsx(Button,{action:function action(){return _this.updateStatus('In Progress');},body:\"Start\",styling:\"btn btn-success\"});}else if(_this.state.status==='In Progress'){return/*#__PURE__*/_jsx(Button,{action:function action(){return _this.updateStatus('Done');},body:\"Done\",styling:\"btn btn-primary\"});}else if(_this.state.status==='Done'){return/*#__PURE__*/_jsx(Button,{action:function action(){return _this.updateStatus('To Do');},body:\"Reopen\",styling:\"btn btn-secondary\"});}};_this.state={id:_this.props.id,title:_this.props.title,status:_this.props.status,priority:_this.props.priority,theme:_this.props.theme,epic:_this.props.epic,timeboxes:_this.props.timeboxes,themeColor:_this.props.theme_color,editing:false};return _this;}_createClass(Task,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{className:\"card m-2\",children:this.state.editing===false?/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"theme-blob\",style:{backgroundColor:this.state.themeColor}})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"edit-pencil\",className:\"edit-pencil\",onClick:this.edit,src:pencil})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-title mt-3\",children:this.state.title})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"delete-icon\",className:\"delete-icon\",onClick:function onClick(){return _this2.props.deleteTask(_this2.state.id);},src:deleteIcon})})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(Button,{action:this.save,body:\"save\",styling:\"btn btn-primary\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:this.editTaskName,children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control form-control mt-1 mb-1\",type:\"text\",value:this.state.title,onChange:function onChange(event){return _this2.setState({title:event.target.value});},placeholder:this.state.title,required:true}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select mt-1 mb-1\",onChange:function onChange(event){return _this2.setState({theme:event.target.value,themeColor:_this2.getThemeColor(event.target.value)});},children:[/*#__PURE__*/_jsx(\"option\",{defaultValue:true,children:this.state.theme}),this.props.themes.map(function(theme){return theme.title!==_this2.state.theme?/*#__PURE__*/_jsx(\"option\",{value:theme.title,children:theme.title},theme.id):/*#__PURE__*/_jsx(_Fragment,{});}),\";\"]})]})})})})]})});}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(nextProps,prevState){if(nextProps.themeColor!==prevState.themeColor){return{themeColor:nextProps.theme_color};}else return null;}}]);return Task;}(React.Component);export default Task;","map":{"version":3,"sources":["/Users/markgray/projects/todoodleoo/src/Task/Task.js"],"names":["React","axios","deleteIcon","Button","props","styling","action","body","Task","edit","setState","editing","save","event","post","id","state","title","status","theme","timeboxes","priority","editTaskName","preventDefault","getThemeColor","themeName","themes","find","o","color","cta","updateStatus","epic","themeColor","theme_color","backgroundColor","pencil","deleteTask","target","value","map","nextProps","prevState","Component"],"mappings":"wcAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wCAEA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAO,YAAP,C,6IAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,CACzB,mBAAQ,eAAQ,SAAS,CAAEA,KAAK,CAACC,OAAzB,CAAkC,OAAO,CAAED,KAAK,CAACE,MAAjD,UAA0DF,KAAK,CAACG,IAAhE,EAAR,CACA,CAFD,C,GAIMC,CAAAA,I,wGAEL,cAAYJ,KAAZ,CAAmB,sCAChB,uBAAMA,KAAN,EADgB,MAuBnBK,IAvBmB,CAuBZ,UAAM,CACZ,MAAKC,QAAL,CAAc,CAACC,OAAO,CAAE,IAAV,CAAd,EACA,CAzBkB,OA2BnBC,IA3BmB,CA2BZ,SAACC,KAAD,CAAW,CACjB,MAAKH,QAAL,CAAc,CAACC,OAAO,CAAE,KAAV,CAAd,EACAV,KAAK,CAACa,IAAN,CAAW,YAAX,CAAyB,CACvBC,EAAE,CAAE,MAAKC,KAAL,CAAWD,EADQ,CAEvBE,KAAK,CAAE,MAAKD,KAAL,CAAWC,KAFK,CAGvBC,MAAM,CAAE,MAAKF,KAAL,CAAWE,MAHI,CAIvBC,KAAK,CAAE,MAAKH,KAAL,CAAWG,KAJK,CAKvBC,SAAS,CAAE,MAAKJ,KAAL,CAAWI,SALC,CAMvBC,QAAQ,CAAE,MAAKL,KAAL,CAAWK,QANE,CAAzB,EAQA,CArCkB,OAuCnBC,YAvCmB,CAuCJ,SAACT,KAAD,CAAW,CACzBA,KAAK,CAACU,cAAN,GACA,MAAKb,QAAL,CAAc,CAACC,OAAO,CAAE,KAAV,CAAd,EACAV,KAAK,CAACa,IAAN,CAAW,YAAX,CAAyB,CACvBC,EAAE,CAAE,MAAKC,KAAL,CAAWD,EADQ,CAEvBE,KAAK,CAAE,MAAKD,KAAL,CAAWC,KAFK,CAGvBC,MAAM,CAAE,MAAKF,KAAL,CAAWE,MAHI,CAIvBC,KAAK,CAAE,MAAKH,KAAL,CAAWG,KAJK,CAKvBE,QAAQ,CAAE,MAAKL,KAAL,CAAWK,QALE,CAAzB,EAOA,CAjDkB,OAmDnBG,aAnDmB,CAmDH,SAACC,SAAD,CAAe,CAC9B,GAAMN,CAAAA,KAAK,CAAG,MAAKf,KAAL,CAAWsB,MAAX,CAAkBC,IAAlB,CAAwB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACX,KAAF,GAAYQ,SAAhB,EAAzB,CAAd,CACA,MAAON,CAAAA,KAAK,CAACU,KAAb,CAEA,CAvDkB,OAyDnBC,GAzDmB,CAyDb,UAAM,CACX,GAAI,MAAKd,KAAL,CAAWE,MAAX,GAAsB,OAA1B,CAAmC,CAClC,mBAAO,KAAC,MAAD,EAAQ,MAAM,CAAE,wBAAM,OAAKa,YAAL,CAAkB,aAAlB,CAAN,EAAhB,CAAwD,IAAI,CAAC,OAA7D,CAAqE,OAAO,CAAC,iBAA7E,EAAP,CACA,CAFD,IAEO,IAAI,MAAKf,KAAL,CAAWE,MAAX,GAAsB,aAA1B,CAAyC,CAC/C,mBAAO,KAAC,MAAD,EAAQ,MAAM,CAAE,wBAAM,OAAKa,YAAL,CAAkB,MAAlB,CAAN,EAAhB,CAAiD,IAAI,CAAC,MAAtD,CAA6D,OAAO,CAAC,iBAArE,EAAP,CACA,CAFM,IAEA,IAAI,MAAKf,KAAL,CAAWE,MAAX,GAAsB,MAA1B,CAAkC,CACxC,mBAAQ,KAAC,MAAD,EAAQ,MAAM,CAAE,wBAAM,OAAKa,YAAL,CAAkB,OAAlB,CAAN,EAAhB,CAAkD,IAAI,CAAC,QAAvD,CAAgE,OAAO,CAAC,mBAAxE,EAAR,CAEA,CAED,CAnEkB,CAGhB,MAAKf,KAAL,CAAa,CACTD,EAAE,CAAE,MAAKX,KAAL,CAAWW,EADN,CAEfE,KAAK,CAAE,MAAKb,KAAL,CAAWa,KAFH,CAGfC,MAAM,CAAC,MAAKd,KAAL,CAAWc,MAHH,CAIfG,QAAQ,CAAE,MAAKjB,KAAL,CAAWiB,QAJN,CAKfF,KAAK,CAAE,MAAKf,KAAL,CAAWe,KALH,CAMfa,IAAI,CAAE,MAAK5B,KAAL,CAAW4B,IANF,CAOfZ,SAAS,CAAE,MAAKhB,KAAL,CAAWgB,SAPP,CAQfa,UAAU,CAAE,MAAK7B,KAAL,CAAW8B,WARR,CASfvB,OAAO,CAAC,KATO,CAAb,CAHgB,aAcjB,C,uCAuDF,iBAAS,iBACR,mBAAQ,YAAK,SAAS,CAAC,UAAf,UACH,KAAKK,KAAL,CAAWL,OAAX,GAAuB,KAAvB,cACA,aAAK,SAAS,CAAC,WAAf,wBACC,aAAK,SAAS,CAAC,KAAf,wBACC,YAAK,SAAS,CAAC,OAAf,uBACC,YAAK,SAAS,CAAC,YAAf,CAA4B,KAAK,CAAE,CAACwB,eAAe,CAAE,KAAKnB,KAAL,CAAWiB,UAA7B,CAAnC,EADD,EADD,cAIC,YAAK,SAAS,CAAC,OAAf,uBACC,YAAK,GAAG,CAAC,aAAT,CAAuB,SAAS,CAAC,aAAjC,CAA+C,OAAO,CAAE,KAAKxB,IAA7D,CAAmE,GAAG,CAAE2B,MAAxE,EADD,EAJD,GADD,cASC,YAAK,SAAS,CAAC,KAAf,uBACC,YAAK,SAAS,CAAC,QAAf,uBACC,YAAK,SAAS,CAAC,iBAAf,UACE,KAAKpB,KAAL,CAAWC,KADb,EADD,EADD,EATD,cAgBC,YAAK,SAAS,CAAC,KAAf,uBACC,YAAK,SAAS,CAAC,OAAf,uBACC,YAAK,GAAG,CAAC,aAAT,CAAuB,SAAS,CAAC,aAAjC,CAA+C,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACb,KAAL,CAAWiC,UAAX,CAAsB,MAAI,CAACrB,KAAL,CAAWD,EAAjC,CAAN,EAAxD,CAAoG,GAAG,CAAEb,UAAzG,EADD,EADD,EAhBD,GADA,cA0BA,aAAK,SAAS,CAAC,WAAf,wBACC,YAAK,SAAS,CAAC,KAAf,uBACC,YAAK,SAAS,CAAC,OAAf,uBACC,KAAC,MAAD,EAAQ,MAAM,CAAE,KAAKU,IAArB,CAA2B,IAAI,CAAC,MAAhC,CAAuC,OAAO,CAAC,iBAA/C,EADD,EADD,EADD,cAMC,YAAK,SAAS,CAAC,KAAf,uBACC,YAAK,SAAS,CAAC,QAAf,uBACC,aAAM,QAAQ,CAAE,KAAKU,YAArB,uBACC,aAAK,SAAS,CAAC,YAAf,wBACA,iBACC,SAAS,CAAC,qCADX,CAEU,IAAI,CAAC,MAFf,CAGU,KAAK,CAAE,KAAKN,KAAL,CAAWC,KAH5B,CAIU,QAAQ,CAAE,kBAAAJ,KAAK,QAAI,CAAA,MAAI,CAACH,QAAL,CAAc,CAAEO,KAAK,CAAEJ,KAAK,CAACyB,MAAN,CAAaC,KAAtB,CAAd,CAAJ,EAJzB,CAKU,WAAW,CAAG,KAAKvB,KAAL,CAAWC,KALnC,CAMU,QAAQ,KANlB,EADA,cASM,gBAAQ,SAAS,CAAC,uBAAlB,CAA0C,QAAQ,CAAE,kBAAAJ,KAAK,QAAI,CAAA,MAAI,CAACH,QAAL,CAAc,CAAES,KAAK,CAAEN,KAAK,CAACyB,MAAN,CAAaC,KAAtB,CAA6BN,UAAU,CAAE,MAAI,CAACT,aAAL,CAAmBX,KAAK,CAACyB,MAAN,CAAaC,KAAhC,CAAzC,CAAd,CAAJ,EAAzD,wBACJ,eAAQ,YAAY,KAApB,UAAuB,KAAKvB,KAAL,CAAWG,KAAlC,EADI,CAEH,KAAKf,KAAL,CAAWsB,MAAX,CAAkBc,GAAlB,CAAsB,SAAArB,KAAK,CAAI,CACjC,MAAOA,CAAAA,KAAK,CAACF,KAAN,GAAgB,MAAI,CAACD,KAAL,CAAWG,KAA3B,cACL,eAAuB,KAAK,CAAEA,KAAK,CAACF,KAApC,UAA4CE,KAAK,CAACF,KAAlD,EAAaE,KAAK,CAACJ,EAAnB,CADK,cAEH,kBAFJ,CAGE,CAJA,CAFG,OATN,GADD,EADD,EADD,EAND,GA3BG,EAAR,CA+DA,C,0CArHD,kCAAgC0B,SAAhC,CAA2CC,SAA3C,CAAqD,CAChD,GAAGD,SAAS,CAACR,UAAV,GAAyBS,SAAS,CAACT,UAAtC,CAAiD,CAC/C,MAAO,CAAEA,UAAU,CAAEQ,SAAS,CAACP,WAAxB,CAAP,CACF,CAFA,IAGI,OAAO,KAAP,CACN,C,kBAvBelC,KAAK,CAAC2C,S,EA0IzB,cAAenC,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport pencil from './../img/pencil.svg';\nimport deleteIcon from './../img/delete_icon.png';\nimport './task.css';\n\nconst Button = (props) => {\n\treturn \t<button className={props.styling} onClick={props.action}>{props.body}</button>\n}\n\nclass Task extends React.Component {\n\n\tconstructor(props) {\n    super(props);\n\n    this.state = {\n        id: this.props.id,\n\t\ttitle: this.props.title, \n\t\tstatus:this.props.status, \n\t\tpriority: this.props.priority,\n\t\ttheme: this.props.theme,\n\t\tepic: this.props.epic,\n\t\ttimeboxes: this.props.timeboxes,\n\t\tthemeColor: this.props.theme_color,\n\t\tediting:false\n    };\n  }\n\n\tstatic getDerivedStateFromProps(nextProps, prevState){\n\t\t\t   if(nextProps.themeColor !== prevState.themeColor){\n\t\t\t     return { themeColor: nextProps.theme_color};\n\t\t\t  }\n\t\t\t  else return null;\n\t\t\t}\n\n\tedit = () => {\n\t\tthis.setState({editing: true})\n\t}\n\n\tsave = (event) => {\n\t\tthis.setState({editing: false})\n\t\taxios.post('/edit_task', {\n\t\t  id: this.state.id,\n\t\t  title: this.state.title,\n\t\t  status: this.state.status,\n\t\t  theme: this.state.theme,\n\t\t  timeboxes: this.state.timeboxes,\n\t\t  priority: this.state.priority\n\t\t});\n\t}\n\n\teditTaskName = (event) => {\n\t\tevent.preventDefault()\n\t\tthis.setState({editing: false})\n\t\taxios.post('/edit_task', {\n\t\t  id: this.state.id,\n\t\t  title: this.state.title,\n\t\t  status: this.state.status,\n\t\t  theme: this.state.theme,\n\t\t  priority: this.state.priority\n\t\t});\n\t}\n\n\tgetThemeColor = (themeName) => {\n\t\tconst theme = this.props.themes.find( o => o.title === themeName)\n\t\treturn theme.color\n\n\t}\n\n\tcta = () => {\n\t\tif (this.state.status === 'To Do') {\n\t\t\treturn <Button action={() => this.updateStatus('In Progress')} body='Start' styling='btn btn-success' />\n\t\t} else if (this.state.status === 'In Progress') {\n\t\t\treturn <Button action={() => this.updateStatus('Done')} body='Done' styling='btn btn-primary'/>\n\t\t} else if (this.state.status === 'Done') {\n\t\t\treturn \t<Button action={() => this.updateStatus('To Do')} body='Reopen' styling='btn btn-secondary'/>\n\n\t\t}\n\n\t}\n\n\trender() {\n\t\treturn  <div className='card m-2'>\n\t\t\t\t\t\t{this.state.editing === false ? (\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t\t<div className='col-2'>\n\t\t\t\t\t\t\t\t\t\t<div className='theme-blob' style={{backgroundColor: this.state.themeColor}}></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='col-2'>\n\t\t\t\t\t\t\t\t\t\t<img alt=\"edit-pencil\" className='edit-pencil' onClick={this.edit} src={pencil}></img>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t\t<div className='col-10'>\n\t\t\t\t\t\t\t\t\t\t<div className='card-title mt-3'>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.title}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t\t<div className='col-2'>\n\t\t\t\t\t\t\t\t\t\t<img alt=\"delete-icon\" className='delete-icon' onClick={() => this.props.deleteTask(this.state.id)} src={deleteIcon}></img>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div> ) \n\n\t\t\t\t\t\t\t:(\n\n\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t\t<div className='col-6'>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<Button action={this.save} body='save' styling='btn btn-primary'/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t\t<div className='col-12'>\n\t\t\t\t\t\t\t\t\t\t<form onSubmit={this.editTaskName}>\n\t\t\t\t\t\t\t\t\t \t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control form-control mt-1 mb-1'\n\t\t\t\t\t\t\t\t\t            type=\"text\" \n\t\t\t\t\t\t\t\t\t            value={this.state.title}\n\t\t\t\t\t\t\t\t\t            onChange={event => this.setState({ title: event.target.value })}\n\t\t\t\t\t\t\t\t\t            placeholder= {this.state.title}\n\t\t\t\t\t\t\t\t\t            required \n\t\t\t\t\t\t\t\t\t        />\n\t\t\t\t\t\t\t\t\t        <select className=\"form-select mt-1 mb-1\" onChange={event => this.setState({ theme: event.target.value, themeColor: this.getThemeColor(event.target.value) })}>\n\t\t\t\t\t\t\t\t\t\t\t  <option defaultValue >{this.state.theme}</option>\n\t\t\t\t\t\t\t\t\t\t\t  {this.props.themes.map(theme => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn theme.title !== this.state.theme ?\n\t\t\t\t\t\t\t\t\t\t\t  \t<option key={theme.id} value={theme.title}>{theme.title}</option>\n\t\t\t\t\t\t\t\t\t\t\t  \t: <></>\n\t\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t\t\t   )};\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t </form>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div> )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t}\n}\n\nexport default Task;"]},"metadata":{},"sourceType":"module"}