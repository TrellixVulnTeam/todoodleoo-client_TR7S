{"ast":null,"code":"import _regeneratorRuntime from\"/Users/markgray/projects/Todoodleoo/todoodleoo-client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/markgray/projects/Todoodleoo/todoodleoo-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/markgray/projects/Todoodleoo/todoodleoo-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/markgray/projects/Todoodleoo/todoodleoo-client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/markgray/projects/Todoodleoo/todoodleoo-client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/markgray/projects/Todoodleoo/todoodleoo-client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{getRequest,postRequest,TestPost}from'./../API/api.js';import'./project.css';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BoardButton=function BoardButton(props){return/*#__PURE__*/_jsx(\"div\",{className:\"card project-card mt-2 mb-3\",children:/*#__PURE__*/_jsx(Link,{className:\"card-link\",to:{pathname:'/board',query:{projectId:props.project.project_id}},children:props.project.project_title})});};var Boards=/*#__PURE__*/function(_React$Component){_inherits(Boards,_React$Component);var _super=_createSuper(Boards);function Boards(){_classCallCheck(this,Boards);return _super.apply(this,arguments);}_createClass(Boards,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 text-center mx-auto mt-5 border-secondary\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Your Boards \"}),/*#__PURE__*/_jsx(\"div\",{className:\"container mt-4\",children:this.props.boards.map(function(project){return/*#__PURE__*/_jsx(BoardButton,{project:project},project.project_id);})})]})});}}]);return Boards;}(React.Component);var AddProject=/*#__PURE__*/function(_React$Component2){_inherits(AddProject,_React$Component2);var _super2=_createSuper(AddProject);function AddProject(){var _this;_classCallCheck(this,AddProject);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super2.call.apply(_super2,[this].concat(args));_this.state={title:''};_this.handleSubmit=function(event){event.preventDefault();var data={title:_this.state.title};postRequest('/add_project',data).then(function(response){_this.props.addProject(response.data.projects);_this.setState({title:''});},function(error){console.log(error);});};return _this;}_createClass(AddProject,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-6 mx-auto mt-3\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-lg m-2\",type:\"text\",value:this.state.title,onChange:function onChange(event){return _this2.setState({title:event.target.value});},placeholder:\"Enter New Project Name\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mx-auto mb-4 mt-1\",children:\"Add Project\"})})]})})});}}]);return AddProject;}(React.Component);var App=/*#__PURE__*/function(_React$Component3){_inherits(App,_React$Component3);var _super3=_createSuper(App);function App(){var _this3;_classCallCheck(this,App);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this3=_super3.call.apply(_super3,[this].concat(args));_this3.state={projects:[],dataReceived:false};_this3.addProject=function(projectsData){_this3.setState(function(prevState){return{projects:projectsData};});};_this3.getProjects=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getRequest('/get_projects').then(function(response){var projectsList=response.data['projects'];_this3.setState({projects:projectsList});_this3.setState({dataReceived:true});},function(error){console.log(error);});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.log(_context.t0);//window.location = '/login'\ncase 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return _this3;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.getProjects();}},{key:\"render\",value:function render(){if(this.state.dataReceived===false){return/*#__PURE__*/_jsx(\"div\",{children:\"loading\"});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"projects-list\",children:[/*#__PURE__*/_jsx(Boards,{boards:this.state.projects}),/*#__PURE__*/_jsx(AddProject,{addProject:this.addProject}),/*#__PURE__*/_jsx(TestPost,{})]});}}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/markgray/projects/Todoodleoo/todoodleoo-client/src/Project/Project.js"],"names":["React","getRequest","postRequest","TestPost","Link","BoardButton","props","pathname","query","projectId","project","project_id","project_title","Boards","boards","map","Component","AddProject","state","title","handleSubmit","event","preventDefault","data","then","response","addProject","projects","setState","error","console","log","target","value","App","dataReceived","projectsData","prevState","getProjects","projectsList"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { getRequest, postRequest, TestPost }from './../API/api.js'\nimport './project.css';\nimport { Link } from 'react-router-dom';\n\n\nconst BoardButton = (props) => {\n\treturn \t<div className='card project-card mt-2 mb-3'>\n\t\t\t\t\t\t<Link className='card-link' to={{pathname: '/board',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery: {projectId: props.project.project_id}}}>{props.project.project_title}</Link>\n\t\t\t\t\t</div>\n}\n\nclass Boards extends React.Component {\n\trender() {\n\t\treturn <div className='row'>\n\t\t\t\t\t\t\t<div className='col-6 text-center mx-auto mt-5 border-secondary'>\n\t\t\t\t\t\t\t\t<h2> Your Boards </h2>\n\t\t\t\t\t\t\t\t<div className='container mt-4'>\n\t\t\t\t\t\t\t\t\t{this.props.boards.map( project =>\n\t\t\t\t\t\t\t\t\t\t<BoardButton\n\t\t\t\t\t\t\t\t\t\t\tproject={project}\n\t\t\t\t\t\t\t\t\t\t\tkey={project.project_id}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t}\n}\n\nclass AddProject extends React.Component {\n\tstate = {title: ''}\n\n\thandleSubmit = (event) => {\n\t\tevent.preventDefault()\n\t\tconst data = {\n\t\t\ttitle: this.state.title\n\t\t}\n\t\tpostRequest('/add_project', data)\n\t\t.then( (response) => {\n\t\t\tthis.props.addProject(response.data.projects)\n\t\t\tthis.setState({title: ''})\n\t\t}, (error) => {\n\t      console.log(error)\n\t    });\n\t}\n\n\trender() {\n\t\treturn <div className='row'>\n\t\t\t\t\t\t<div className='col-6 mx-auto mt-3'>\n\t\t\t\t\t\t <form onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t \t<div className='form-group'>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName='form-control form-control-lg m-2'\n\t\t\t\t          type=\"text\"\n\t\t\t\t          value={this.state.title}\n\t\t\t\t          onChange={event => this.setState({ title: event.target.value })}\n\t\t\t\t          placeholder='Enter New Project Name'\n\t\t\t\t          required\n\t\t\t\t        />\n\t\t\t\t        </div>\n\t\t\t\t        <div className='col text-center'>\n\t\t\t\t\t\t\t\t\t<button className='btn btn-primary mx-auto mb-4 mt-1'>Add Project</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t </form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t </div>\n\t}\n}\n\nclass App extends React.Component {\n\tstate = {projects: [], dataReceived: false}\n\n\taddProject = (projectsData) => {\n\t\tthis.setState(prevState => (\n\t\t\t{projects: projectsData}))\n\t}\n\n\tgetProjects = async () => {\n\t\ttry {\n\t\t\tawait getRequest('/get_projects')\n\t    .then((response) => {\n\t\t      const projectsList = response.data['projects']\n\t    \t\tthis.setState({projects: projectsList});\n\t    \t\tthis.setState({dataReceived: true})\n\t\t    }, (error) => {\n\t\t\t\t\tconsole.log(error)\n\t\t    });\n\n\t\t} catch (err) {\n\t\t\tconsole.log(err)\n\t\t\t//window.location = '/login'\n\t\t}\n\n\n  };\n\n  componentDidMount() {\n    this.getProjects();\n  }\n\n\trender() {\n\t\tif (this.state.dataReceived === false){\n\t\t\treturn <div>loading</div>\n\t\t} else {\n\t\t\treturn <div className='projects-list'>\n\t\t\t\t\t\t\t<Boards boards={this.state.projects}/>\n\t\t\t\t\t\t\t<AddProject addProject={this.addProject} />\n\t\t\t\t\t\t\t<TestPost />\n\t\t\t\t\t\t </div>\n\n\n\t\t}\n\t}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}