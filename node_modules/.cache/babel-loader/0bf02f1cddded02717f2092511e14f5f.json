{"ast":null,"code":"import _regeneratorRuntime from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import'./App.css';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProjectButton=function ProjectButton(props){return/*#__PURE__*/_jsx(\"div\",{className:\"card project-card mt-2 mb-3\",children:/*#__PURE__*/_jsx(Link,{className:\"card-link\",to:{pathname:'/planning',query:{projectId:props.project.project_id}},children:props.project.project_title})});};var ProjectsList=/*#__PURE__*/function(_React$Component){_inherits(ProjectsList,_React$Component);var _super=_createSuper(ProjectsList);function ProjectsList(){_classCallCheck(this,ProjectsList);return _super.apply(this,arguments);}_createClass(ProjectsList,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 text-center mx-auto mt-5 border-secondary\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Your Projects \"}),/*#__PURE__*/_jsx(\"div\",{className:\"container mt-4\",children:this.props.projects.map(function(project){return/*#__PURE__*/_jsx(ProjectButton,{project:project},project.project_id);})})]})});}}]);return ProjectsList;}(React.Component);var AddProject=/*#__PURE__*/function(_React$Component2){_inherits(AddProject,_React$Component2);var _super2=_createSuper(AddProject);function AddProject(){var _this;_classCallCheck(this,AddProject);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super2.call.apply(_super2,[this].concat(args));_this.state={title:''};_this.handleSubmit=function(event){event.preventDefault();axios.post('/add_project',{title:_this.state.title}).then(function(response){_this.props.addProject(response.data.projects);_this.setState({title:''});});};return _this;}_createClass(AddProject,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-6 mx-auto mt-3\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-lg m-2\",type:\"text\",value:this.state.title,onChange:function onChange(event){return _this2.setState({title:event.target.value});},placeholder:\"Enter New Project Name\",required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mx-auto mb-4 mt-1\",children:\"Add Project\"})})]})})});}}]);return AddProject;}(React.Component);var App=/*#__PURE__*/function(_React$Component3){_inherits(App,_React$Component3);var _super3=_createSuper(App);function App(){var _this3;_classCallCheck(this,App);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this3=_super3.call.apply(_super3,[this].concat(args));_this3.state={projects:[],dataReceived:false};_this3.addProject=function(projectsData){_this3.setState(function(prevState){return{projects:projectsData};});};_this3.getProjects=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/get_projects').then(function(response){var projectsList=response.data['projects'];_this3.setState({projects:projectsList});_this3.setState({dataReceived:true});},function(error){window.location.href='/login';});case 2:case\"end\":return _context.stop();}}},_callee);}));return _this3;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.getProjects();}},{key:\"render\",value:function render(){if(this.state.dataReceived===false){return/*#__PURE__*/_jsx(\"div\",{children:\"loading\"});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"projects-list\",children:[this.state.projects.length>0&&/*#__PURE__*/_jsx(ProjectsList,{projects:this.state.projects}),/*#__PURE__*/_jsx(AddProject,{addProject:this.addProject})]});}}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/markgray/projects/todoodleoo/src/App/App.js"],"names":["React","axios","Link","ProjectButton","props","pathname","query","projectId","project","project_id","project_title","ProjectsList","projects","map","Component","AddProject","state","title","handleSubmit","event","preventDefault","post","then","response","addProject","data","setState","target","value","App","dataReceived","projectsData","prevState","getProjects","get","projectsList","error","window","location","href","length"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { Link } from 'react-router-dom';\n\nconst ProjectButton = (props) => {\n\treturn \t<div className='card project-card mt-2 mb-3'>\n\t<Link className='card-link' to={{pathname: '/planning', \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquery: {projectId: props.project.project_id}}}>{props.project.project_title}</Link>\n\t\t\t\t\t</div>\n}\n\nclass ProjectsList extends React.Component {\n\trender() {\n\t\treturn \t<div className='row'>\n\t\t\t\t\t\t\t<div className='col-6 text-center mx-auto mt-5 border-secondary'>\n\t\t\t\t\t\t\t\t<h2> Your Projects </h2>\n\t\t\t\t\t\t\t\t<div className='container mt-4'>\n\t\t\t\t\t\t\t\t\t{this.props.projects.map( project =>\n\t\t\t\t\t\t\t\t\t\t<ProjectButton \n\t\t\t\t\t\t\t\t\t\t\tproject={project}\n\t\t\t\t\t\t\t\t\t\t\tkey={project.project_id}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\n\t}\n}\n\nclass AddProject extends React.Component {\n\tstate = {title: ''}\n\n\thandleSubmit = (event) => {\n\t\tevent.preventDefault()\n\t\taxios.post('/add_project', {\n\t\t\ttitle: this.state.title\n\t\t})\n\t\t.then( response => {\n\t\t\tthis.props.addProject(response.data.projects)\n\t\t\tthis.setState({title: ''})\n\t\t})\n\t}\n\n\trender() {\n\t\treturn <div className='row'>\n\t\t\t\t\t\t<div className='col-6 mx-auto mt-3'>\n\t\t\t\t\t\t <form onSubmit={this.handleSubmit}>\n\t\t\t\t\t\t \t<div className='form-group'>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName='form-control form-control-lg m-2'\n\t\t\t\t          type=\"text\" \n\t\t\t\t          value={this.state.title}\n\t\t\t\t          onChange={event => this.setState({ title: event.target.value })}\n\t\t\t\t          placeholder='Enter New Project Name'\n\t\t\t\t          required \n\t\t\t\t        />\n\t\t\t\t        </div>\n\t\t\t\t        <div className='col text-center'>\n\t\t\t\t\t\t\t\t\t<button className='btn btn-primary mx-auto mb-4 mt-1'>Add Project</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t </form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t </div>\n\t}\n}\n\nclass App extends React.Component {\n\tstate = {projects: [], dataReceived: false}\n\n\taddProject = (projectsData) => {\n\t\tthis.setState(prevState => (\n\t\t\t{projects: projectsData}))\n\t}\n\n\tgetProjects = async () => {\n    await axios.get('/get_projects')\n    .then((response) => {\n\t      const projectsList = response.data['projects']\n    \t\tthis.setState({projects: projectsList});\n    \t\tthis.setState({dataReceived: true})\n\t    }, (error) => {\n\t      window.location.href = '/login'\n\t    });\n    \n  };\n\n  componentDidMount() {\n    this.getProjects();\n  }\n\n\trender() {\n\t\tif (this.state.dataReceived === false){\n\t\t\treturn <div>loading</div>\n\t\t} else {\n\t\t\treturn <div className='projects-list'>\n\t\t\t\t\t\t\t{this.state.projects.length > 0 &&\n\t\t\t\t\t\t\t\t<ProjectsList projects={this.state.projects}/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<AddProject addProject={this.addProject} />\n\t\t\t\t\t\t </div>\n\t\t}\n\t}\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}