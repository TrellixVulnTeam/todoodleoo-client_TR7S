{"ast":null,"code":"import _classCallCheck from\"/Users/markgray/projects/Todoodleoo/todoodleoo-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/markgray/projects/Todoodleoo/todoodleoo-client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/markgray/projects/Todoodleoo/todoodleoo-client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/markgray/projects/Todoodleoo/todoodleoo-client/node_modules/@babel/runtime/helpers/esm/createSuper\";import _regeneratorRuntime from\"/Users/markgray/projects/Todoodleoo/todoodleoo-client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/markgray/projects/Todoodleoo/todoodleoo-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import React from'react';//const prefix = 'https://todoodleoo-server.herokuapp.com'\nimport{jsx as _jsx}from\"react/jsx-runtime\";var prefix='';if(process.env.NODE_ENV==='production'){prefix='https://todoodleoo-server.herokuapp.com';}else{prefix='http://localhost:5000';}var getRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(endpoint,params){var headers,instance,req,_req;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:headers={'Content-Type':'application/json'};instance=axios.create({withCredentials:true,headers:headers});instance.defaults.headers.common['Host']=prefix;_context.prev=3;if(!params){_context.next=11;break;}_context.next=7;return instance.get(prefix+endpoint+'?'+params);case 7:req=_context.sent;return _context.abrupt(\"return\",req);case 11:_context.next=13;return instance.get(prefix+endpoint);case 13:_req=_context.sent;return _context.abrupt(\"return\",_req);case 15:_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](3);console.log(_context.t0);case 20:case\"end\":return _context.stop();}}},_callee,null,[[3,17]]);}));return function getRequest(_x,_x2){return _ref.apply(this,arguments);};}();var postRequest=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(endpoint,data){var headers,instance,req;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:headers={'Content-Type':'application/json'};instance=axios.create({withCredentials:true,headers:headers});instance.defaults.headers.common['Host']=prefix;_context2.prev=3;_context2.next=6;return instance.post(prefix+endpoint,data);case 6:req=_context2.sent;return _context2.abrupt(\"return\",req);case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](3);console.log(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[3,10]]);}));return function postRequest(_x3,_x4){return _ref2.apply(this,arguments);};}();var TestPost=/*#__PURE__*/function(_React$Component){_inherits(TestPost,_React$Component);var _super=_createSuper(TestPost);function TestPost(){var _this;_classCallCheck(this,TestPost);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.ping=function(){postRequest('/auth/test','pingggggg');};return _this;}_createClass(TestPost,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-warning\",onClick:function onClick(){return _this2.ping();},children:\"PING\"});}}]);return TestPost;}(React.Component);var TestGet=/*#__PURE__*/function(_React$Component2){_inherits(TestGet,_React$Component2);var _super2=_createSuper(TestGet);function TestGet(){var _this3;_classCallCheck(this,TestGet);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this3=_super2.call.apply(_super2,[this].concat(args));_this3.ping=function(){getRequest('/auth/test');};return _this3;}_createClass(TestGet,[{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-success\",onClick:function onClick(){return _this4.ping();},children:\"GET\"});}}]);return TestGet;}(React.Component);export{getRequest,postRequest,prefix,TestPost,TestGet};","map":{"version":3,"sources":["/Users/markgray/projects/Todoodleoo/todoodleoo-client/src/API/api.js"],"names":["axios","React","prefix","process","env","NODE_ENV","getRequest","endpoint","params","headers","instance","create","withCredentials","defaults","common","get","req","console","log","postRequest","data","post","TestPost","ping","Component","TestGet"],"mappings":"6xBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA;2CACA,GAAIC,CAAAA,MAAM,CAAG,EAAb,CACA,GAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,GAAyB,YAA7B,CAA2C,CACzCH,MAAM,CAAG,yCAAT,CACD,CAFD,IAEO,CACLA,MAAM,CAAG,uBAAT,CACD,CAGD,GAAMI,CAAAA,UAAU,0FAAG,iBAAOC,QAAP,CAAiBC,MAAjB,gJACXC,OADW,CACD,CACd,eAAgB,kBADF,CADC,CAIXC,QAJW,CAIAV,KAAK,CAACW,MAAN,CAAa,CAC5BC,eAAe,CAAE,IADW,CAE5BH,OAAO,CAAEA,OAFmB,CAAb,CAJA,CASjBC,QAAQ,CAACG,QAAT,CAAkBJ,OAAlB,CAA0BK,MAA1B,CAAiC,MAAjC,EAA2CZ,MAA3C,CATiB,oBAYXM,MAZW,gDAaKE,CAAAA,QAAQ,CAACK,GAAT,CAAab,MAAM,CAAGK,QAAT,CAAoB,GAApB,CAA0BC,MAAvC,CAbL,QAaPQ,GAbO,+CAcNA,GAdM,iCAgBKN,CAAAA,QAAQ,CAACK,GAAT,CAAab,MAAM,CAAGK,QAAtB,CAhBL,SAgBPS,IAhBO,+CAiBNA,IAjBM,2FAqBfC,OAAO,CAACC,GAAR,cArBe,qEAAH,kBAAVZ,CAAAA,UAAU,gDAAhB,CAyBA,GAAMa,CAAAA,WAAW,2FAAG,kBAAOZ,QAAP,CAAiBa,IAAjB,+IACZX,OADY,CACF,CACd,eAAgB,kBADF,CADE,CAIZC,QAJY,CAIDV,KAAK,CAACW,MAAN,CAAa,CAC5BC,eAAe,CAAE,IADW,CAE5BH,OAAO,CAAEA,OAFmB,CAAb,CAJC,CASlBC,QAAQ,CAACG,QAAT,CAAkBJ,OAAlB,CAA0BK,MAA1B,CAAiC,MAAjC,EAA2CZ,MAA3C,CATkB,wCAYIQ,CAAAA,QAAQ,CAACW,IAAT,CAAcnB,MAAM,CAAGK,QAAvB,CAAiCa,IAAjC,CAZJ,QAYRJ,GAZQ,iDAaPA,GAbO,+DAehBC,OAAO,CAACC,GAAR,eAfgB,uEAAH,kBAAXC,CAAAA,WAAW,kDAAjB,C,GAmBMG,CAAAA,Q,+UACJC,I,CAAO,UAAM,CACXJ,WAAW,CAAC,YAAD,CAAe,WAAf,CAAX,CACD,C,0DACD,iBAAS,iBACP,mBAAO,YAAK,SAAS,CAAC,iBAAf,CAAiC,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACI,IAAL,EAAN,EAA1C,kBAAP,CACD,C,sBANoBtB,KAAK,CAACuB,S,KASvBC,CAAAA,O,2VACJF,I,CAAO,UAAM,CACXjB,UAAU,CAAC,YAAD,CAAV,CACD,C,0DACD,iBAAS,iBACP,mBAAO,YAAK,SAAS,CAAC,iBAAf,CAAiC,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACiB,IAAL,EAAN,EAA1C,iBAAP,CACD,C,qBANmBtB,KAAK,CAACuB,S,EAY5B,OAASlB,UAAT,CAAqBa,WAArB,CAAkCjB,MAAlC,CAA0CoB,QAA1C,CAAoDG,OAApD","sourcesContent":["import axios from 'axios';\nimport React from 'react';\n\n//const prefix = 'https://todoodleoo-server.herokuapp.com'\nlet prefix = ''\nif (process.env.NODE_ENV === 'production') {\n  prefix = 'https://todoodleoo-server.herokuapp.com'\n} else {\n  prefix = 'http://localhost:5000'\n}\n\n\nconst getRequest = async (endpoint, params) => {\n  const headers = {\n    'Content-Type': 'application/json'\n  }\n  const instance = axios.create({\n    withCredentials: true,\n    headers: headers\n  })\n\n  instance.defaults.headers.common['Host'] = prefix;\n\n  try {\n    if (params) {\n      const req = await instance.get(prefix + endpoint + '?' + params)\n      return req\n    } else {\n      const req = await instance.get(prefix + endpoint)\n      return req\n    }\n\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nconst postRequest = async (endpoint, data) => {\n  const headers = {\n    'Content-Type': 'application/json'\n  }\n  const instance = axios.create({\n    withCredentials: true,\n    headers: headers\n  })\n\n  instance.defaults.headers.common['Host'] = prefix;\n\n  try {\n      const req = await instance.post(prefix + endpoint, data)\n      return req\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nclass TestPost extends React.Component {\n  ping = () => {\n    postRequest('/auth/test', 'pingggggg')\n  }\n  render() {\n    return <div className='btn btn-warning' onClick={() => this.ping()}>PING</div>\n  }\n}\n\nclass TestGet extends React.Component {\n  ping = () => {\n    getRequest('/auth/test')\n  }\n  render() {\n    return <div className='btn btn-success' onClick={() => this.ping()}>GET</div>\n  }\n}\n\n\n\n\nexport { getRequest, postRequest, prefix, TestPost, TestGet }\n"]},"metadata":{},"sourceType":"module"}