{"ast":null,"code":"import _regeneratorRuntime from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/markgray/projects/todoodleoo/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import'./header.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=/*#__PURE__*/function(_React$Component){_inherits(Header,_React$Component);var _super=_createSuper(Header);function Header(props){var _this;_classCallCheck(this,Header);_this=_super.call(this,props);_this.logout=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('/auth/logout').then(function(response){window.location.href='/';},function(err){console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));_this.getUserData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get('/auth/me').then(function(response){_this.setState({isLoggedIn:true});_this.setState({dataReceived:true});_this.setState({username:response.data.username});},function(error){console.log('Not Logged In');});case 2:case\"end\":return _context2.stop();}}},_callee2);}));_this.state={isLoggedIn:false,username:false};return _this;}_createClass(Header,[{key:\"componentDidMount\",value:function componentDidMount(){this.getUserData();}},{key:\"render\",value:function render(){var isLoggedIn=this.state.isLoggedIn;var buttons;if(isLoggedIn){buttons=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"username\",children:this.state.username}),/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-light\",onClick:this.logout,children:\"Logout\"})]});}else{buttons=/*#__PURE__*/_jsxs(\"div\",{className:\"auth-buttons\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-primary\",onClick:function onClick(){return window.location.href='/login';},children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-primary\",onClick:function onClick(){return window.location.href='/register';},children:\"Sign Up\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"header text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"logo\",onClick:function onClick(){return window.location.href='/';},children:\"Todoodleoo\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:buttons})]})});}}]);return Header;}(React.Component);export default Header;","map":{"version":3,"sources":["/Users/markgray/projects/todoodleoo/src/Header/Header.js"],"names":["React","axios","Header","props","logout","post","then","response","window","location","href","err","console","log","getUserData","get","setState","isLoggedIn","dataReceived","username","data","error","state","buttons","Component"],"mappings":"irBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,cAAP,C,2FAGMC,CAAAA,M,4GACL,gBAAYC,KAAZ,CAAmB,wCAChB,uBAAMA,KAAN,EADgB,MAKhBC,MALgB,sEAKP,yJACFH,CAAAA,KAAK,CAACI,IAAN,CAAW,cAAX,EACLC,IADK,CACC,SAACC,QAAD,CAAc,CACpBC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CACA,CAHK,CAGH,SAACC,GAAD,CAAS,CACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACA,CALK,CADE,uDALO,SAchBG,WAdgB,sEAcF,+JACNb,CAAAA,KAAK,CAACc,GAAN,CAAU,UAAV,EACLT,IADK,CACA,SAACC,QAAD,CAAc,CACnB,MAAKS,QAAL,CAAc,CAACC,UAAU,CAAE,IAAb,CAAd,EACA,MAAKD,QAAL,CAAc,CAACE,YAAY,CAAE,IAAf,CAAd,EACA,MAAKF,QAAL,CAAc,CAACG,QAAQ,CAAEZ,QAAQ,CAACa,IAAT,CAAcD,QAAzB,CAAd,EACD,CALM,CAKJ,SAACE,KAAD,CAAW,CACZT,OAAO,CAACC,GAAR,CAAY,eAAZ,EACD,CAPM,CADM,yDAdE,GAEhB,MAAKS,KAAL,CAAa,CAACL,UAAU,CAAE,KAAb,CAAoBE,QAAQ,CAAE,KAA9B,CAAb,CAFgB,aAGf,C,oDAsBD,4BAAoB,CAClB,KAAKL,WAAL,GACD,C,sBAEJ,iBAAS,CACR,GAAMG,CAAAA,UAAU,CAAG,KAAKK,KAAL,CAAWL,UAA9B,CACC,GAAIM,CAAAA,OAAJ,CAEC,GAAIN,UAAJ,CAAgB,CACdM,OAAO,cAAG,oCACJ,YAAK,SAAS,CAAC,UAAf,UAA2B,KAAKD,KAAL,CAAWH,QAAtC,EADI,cAEJ,YAAK,SAAS,CAAC,eAAf,CAA+B,OAAO,CAAE,KAAKf,MAA7C,oBAFI,GAAV,CAID,CALD,IAKO,CACLmB,OAAO,cAAG,aAAK,SAAS,CAAC,cAAf,wBACJ,YAAK,SAAS,CAAC,iBAAf,CAAiC,OAAO,CAAE,yBAAMf,CAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,QAA7B,EAA1C,mBADI,cAEN,YAAK,SAAS,CAAC,iBAAf,CAAiC,OAAO,CAAE,yBAAMF,CAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,WAA7B,EAA1C,qBAFM,GAAV,CAID,CAEH,mBAAO,YAAK,SAAS,CAAC,oBAAf,uBACF,aAAK,SAAS,CAAC,KAAf,wBACC,YAAK,SAAS,CAAC,OAAf,uBACC,YAAK,SAAS,CAAC,MAAf,CAAsB,OAAO,CAAE,yBAAMF,CAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAA7B,EAA/B,wBADD,EADD,cAIC,YAAK,SAAS,CAAC,OAAf,EAJD,cAMC,YAAK,SAAS,CAAC,OAAf,UACEa,OADF,EAND,GADE,EAAP,CAYE,C,oBA1DiBvB,KAAK,CAACwB,S,EA6D3B,cAAetB,CAAAA,MAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport './header.css';\n\n\nclass Header extends React.Component {\n\tconstructor(props) {\n    super(props);\n    this.state = {isLoggedIn: false, username: false};\n    }\n\n    logout = async () => {\n    \tawait axios.post('/auth/logout')\n    \t.then( (response) => {\n    \t\twindow.location.href = '/'\n    \t}, (err) => {\n    \t\tconsole.log(err)\n    \t});\n    }\n\n    getUserData = async () => {\n      await axios.get('/auth/me')\n      .then((response) => {\n\t      this.setState({isLoggedIn: true});\n\t      this.setState({dataReceived: true});\n\t      this.setState({username: response.data.username});\n\t    }, (error) => {\n\t      console.log('Not Logged In');\n\t    });\n    };\n\n    componentDidMount() {\n      this.getUserData();\n    }\n\n\trender() {\n\t\tconst isLoggedIn = this.state.isLoggedIn;\n\t  let buttons;\n\n    if (isLoggedIn) {\n      buttons = <div>\n      \t\t\t\t\t\t<div className='username'>{this.state.username}</div>\n      \t\t\t\t\t\t<div className='btn btn-light' onClick={this.logout}>Logout</div>\n      \t\t\t\t\t</div>;\n    } else {\n      buttons = <div className='auth-buttons'>\n\t\t      \t\t\t\t<div className='btn btn-primary' onClick={() => window.location.href = '/login'}>Login</div>\n\t\t\t\t\t \t\t\t\t<div className='btn btn-primary' onClick={() => window.location.href = '/register'}>Sign Up</div>\n\t\t      \t\t\t</div>\n    }\n\n\t\treturn <div className='header text-center'>\n\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t<div className='col-3'>\n\t\t\t\t\t\t\t\t\t<div className='logo' onClick={() => window.location.href = '/'}>Todoodleoo</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='col-6'>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='col-3'>\n\t\t\t\t\t\t\t\t\t{buttons}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t}\n}\n\nexport default Header"]},"metadata":{},"sourceType":"module"}